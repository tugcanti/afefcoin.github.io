<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>AFEF Token — Official Website</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
    <!-- Auth0 SDK -->
    <script src="https://cdn.auth0.com/js/auth0-spa-js/2.0/auth0-spa-js.production.js"></script>

    <style>
        :root {
            --bg-start: #111827; --bg-end: #0c0d24; --accent-primary: #f472b6;
            --accent-secondary: #60a5fa; --text-main: #f9fafb; --text-muted: #9ca3af;
            --card-bg: rgba(255, 255, 255, 0.05); --card-border: rgba(255, 255, 255, 0.1);
        }
        body { font-family: 'Inter', sans-serif; background-color: var(--bg-start); color: var(--text-main); scroll-behavior: smooth; }
        h1, h2, h3, h4, h5, h6 { font-family: 'Poppins', sans-serif; }
        .glass-card { background: var(--card-bg); backdrop-filter: blur(20px); -webkit-backdrop-filter: blur(20px); border: 1px solid var(--card-border); }
        #aurora-background { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -1; background: linear-gradient(160deg, var(--bg-start), var(--bg-end)); overflow: hidden; }
        .aurora-shape { position: absolute; border-radius: 50%; filter: blur(100px); opacity: 0.3; will-change: transform; }
        .aurora-1 { width: 500px; height: 500px; background: var(--accent-primary); top: -200px; left: -200px; animation: aurora-move1 30s infinite alternate; }
        .aurora-2 { width: 400px; height: 400px; background: var(--accent-secondary); bottom: -150px; right: -150px; animation: aurora-move2 35s infinite alternate-reverse; }
        @keyframes aurora-move1 { from { transform: scale(1) translate(0, 0) rotate(0deg); } to { transform: scale(1.3) translate(150px, 80px) rotate(90deg); } }
        @keyframes aurora-move2 { from { transform: scale(1) translate(0, 0) rotate(0deg); } to { transform: scale(1.4) translate(-120px, -60px) rotate(-90deg); } }
        #hamburger-btn { width: 24px; height: 24px; position: relative; }
        #hamburger-btn span { display: block; width: 100%; height: 2px; background-color: white; border-radius: 2px; position: absolute; transition: transform 0.3s ease-in-out, opacity 0.3s ease-in-out; }
        #hamburger-btn span:nth-child(1) { top: 4px; } #hamburger-btn span:nth-child(2) { top: 11px; } #hamburger-btn span:nth-child(3) { top: 18px; }
        #hamburger-btn.open span:nth-child(1) { top: 11px; transform: rotate(135deg); }
        #hamburger-btn.open span:nth-child(2) { opacity: 0; }
        #hamburger-btn.open span:nth-child(3) { top: 11px; transform: rotate(-135deg); }
    </style>
</head>
<body class="overflow-x-hidden">

    <div id="aurora-background"><div class="aurora-shape aurora-1"></div><div class="aurora-shape aurora-2"></div></div>

    <header class="sticky top-0 z-50">
        <nav class="glass-card max-w-6xl mx-auto my-4 rounded-xl px-6 py-3">
            <div class="flex items-center justify-between">
                <a href="#" id="home-link" class="flex items-center gap-3"><div class="w-10 h-10 bg-gradient-to-br from-pink-500 to-blue-500 rounded-lg flex items-center justify-center"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 22S3 17 3 10.5V5L12 2L21 5V10.5C21 17 12 22 12 22Z" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/><path d="M8 11.5 H16 M8 11.5 L7 8 L9.5 9 L12 7 L14.5 9 L17 8 L16 11.5 Z" stroke="white" stroke-width="1.5" fill="white" stroke-linecap="round" stroke-linejoin="round"/></svg></div><span class="text-xl font-bold font-['Poppins'] text-white">AFEF Token</span></a>
                <div id="main-nav-links" class="hidden md:flex items-center gap-6 text-sm font-semibold text-gray-300"><a href="#about" class="hover:text-white transition-colors">About</a><a href="#roadmap" class="hover:text-white transition-colors">Roadmap</a></div>
                <div class="flex items-center gap-4">
                    <div id="auth-ui" class="hidden md:block">
                        <button id="btn-login" class="bg-blue-500 text-white font-semibold py-2 px-4 rounded-lg text-sm">Login</button>
                        <div id="user-profile" class="hidden items-center gap-3 relative group">
                            <img id="user-avatar" class="w-8 h-8 rounded-full" src="" alt="Avatar">
                            <div class="absolute top-full right-0 mt-2 w-48 bg-gray-800 rounded-lg shadow-lg opacity-0 group-hover:opacity-100 transition-opacity">
                                <a href="#" id="btn-dashboard" class="block px-4 py-2 text-sm text-gray-300 hover:bg-gray-700">Go to Dashboard</a>
                                <a href="#" id="btn-logout" class="block px-4 py-2 text-sm text-gray-300 hover:bg-gray-700">Logout</a>
                            </div>
                        </div>
                    </div>
                    <button id="hamburger-btn" class="md:hidden text-white z-50"><span></span><span></span><span></span></button>
                </div>
            </div>
        </nav>
        <div id="mobile-menu" class="hidden md:hidden glass-card max-w-6xl mx-auto rounded-xl p-4 text-center">
            <a href="#about" class="mobile-menu-link block py-2 text-gray-300 hover:text-white">About</a>
            <a href="#roadmap" class="mobile-menu-link block py-2 text-gray-300 hover:text-white">Roadmap</a>
            <div id="mobile-auth-ui" class="mt-4"></div>
        </div>
    </header>

    <main id="main-content" style="display: none;">
        <!-- Ana sayfa içeriği buraya dinamik olarak eklenecek -->
    </main>

    <div id="dashboard" style="display: none;" class="container mx-auto px-6 py-16">
        <!-- Yönetim paneli içeriği buraya dinamik olarak eklenecek -->
    </div>
    
    <footer class="py-12"><div class="container mx-auto px-6 text-center"><p class="text-gray-500 text-sm">&copy; <span id="year"></span> AFEF Token. All rights reserved.</p></div></footer>
    
    <script>
        document.getElementById('year').textContent = new Date().getFullYear();
        const mainContent = document.getElementById('main-content');
        const dashboard = document.getElementById('dashboard');
        const homeLink = document.getElementById('home-link');
        let auth0Client = null;

        const configureClient = async () => {
          auth0Client = await auth0.createAuth0Client({
            domain: "afeftoken.eu.auth0.com",
            clientId: "KNrpDdjhDAjk9j1y87gxYJ5tsH11IIhp",
            authorizationParams: {
              redirect_uri: window.location.origin
            }
          });
        };

        window.onload = async () => {
            await configureClient();
            await updateUI();

            const isAuthenticated = await auth0Client.isAuthenticated();
            if (window.location.search.includes("code=") && window.location.search.includes("state=")) {
                await auth0Client.handleRedirectCallback();
                window.history.replaceState({}, document.title, "/");
            }
            
            if (await auth0Client.isAuthenticated()) {
                showDashboard();
            } else {
                showMainContent();
            }
            updateUI(); // Ensure UI is updated after routing
        };

        const updateUI = async () => {
            const isAuthenticated = await auth0Client.isAuthenticated();
            const loginBtn = document.getElementById('btn-login');
            const userProfile = document.getElementById('user-profile');
            const mobileAuthUI = document.getElementById('mobile-auth-ui');

            if (isAuthenticated) {
                loginBtn.style.display = 'none';
                userProfile.style.display = 'flex';
                const user = await auth0Client.getUser();
                document.getElementById('user-avatar').src = user.picture;
                mobileAuthUI.innerHTML = `<button id="btn-logout-mobile" class="bg-red-500 text-white font-semibold py-2 px-4 rounded-lg text-sm w-full">Logout</button>`;
                document.getElementById('btn-logout-mobile').addEventListener('click', logout);
            } else {
                loginBtn.style.display = 'block';
                userProfile.style.display = 'none';
                mobileAuthUI.innerHTML = `<button id="btn-login-mobile" class="bg-blue-500 text-white font-semibold py-2 px-4 rounded-lg text-sm w-full">Login</button>`;
                document.getElementById('btn-login-mobile').addEventListener('click', login);
            }
        };

        const showDashboard = () => { mainContent.style.display = 'none'; dashboard.style.display = 'block'; };
        const showMainContent = () => { dashboard.style.display = 'none'; mainContent.style.display = 'block'; };
        
        const login = async () => { await auth0Client.loginWithRedirect(); };
        const logout = () => { auth0Client.logout({ logoutParams: { returnTo: window.location.origin } }); };

        document.getElementById('btn-login').addEventListener('click', login);
        document.getElementById('btn-logout').addEventListener('click', logout);
        document.getElementById('btn-dashboard').addEventListener('click', showDashboard);
        homeLink.addEventListener('click', (e) => { e.preventDefault(); showMainContent(); });

        const hamburgerBtn = document.getElementById('hamburger-btn');
        const mobileMenu = document.getElementById('mobile-menu');
        hamburgerBtn.addEventListener('click', () => { mobileMenu.classList.toggle('hidden'); hamburgerBtn.classList.toggle('open'); });

        mainContent.innerHTML = `
            <section class="relative text-center py-24 md:py-32 overflow-hidden">
                <div class="container mx-auto px-6 relative">
                    <h1 class="text-4xl md:text-6xl font-bold text-white leading-tight tracking-tight mb-4">A Community Token<br>for Strategy Enthusiasts</h1>
                    <p class="max-w-2xl mx-auto text-lg text-gray-300 mb-8">AFEF is a community-driven project built on the mission of fair distribution and long-term value.</p>
                </div>
            </section>
        `;
        dashboard.innerHTML = `
            <div class="flex flex-col md:flex-row justify-between items-start md:items-center mb-8 gap-4">
                <h1 class="text-3xl md:text-4xl font-bold text-white">My Dashboard</h1>
            </div>
            <div class="glass-card rounded-2xl p-8">
                <h2 class="text-2xl font-bold text-white">Welcome!</h2>
                <p class="text-gray-300 mt-2">This is your personal dashboard. More features coming soon!</p>
            </div>
        `;
    </script>
</body>
</html>

